/**
 * Position v0.0.1
 * @author Vu Pham
 * @homepage https://github.com/vuquangpham/position.js
 * @license MIT 2023
 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(this,(()=>(()=>{"use strict";var t={r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+Date.now().toString(36)+Math.random().toString(36).slice(2)}function o(t){const e=t.target.getBoundingClientRect();t.browserPosition=r(e,0,0),t.documentPosition=r(e,0,0),t.targetPosition=r(e,0,0),t.handler=i.bind(t);(t.target===document.body||t.target===document.documentElement)&&(t.scrollHandler=s.bind(t),window.addEventListener("scroll",t.scrollHandler)),t.debug&&(t.cursor=function(t){const e=document.createElement("div");e.classList.add("position-debug-panel"),e.style.cssText="position:absolute; top:0; left:0; right:0; bottom:0;";const n=document.createElement("div");n.style.cssText="\n        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI4MDAiIGhlaWdodD0iODAwIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHBhdGggZD0iTTM3NC40IDIyNS4wNjZoMzMuMDY3Yy0xMi44LTU5LjczMy02MC44LTEwNy43MzQtMTIwLjUzMy0xMTkuNDY3djMzLjA2N2M0Mi42NjYgMTAuNjY4IDc1LjczMiA0My43MzQgODcuNDY2IDg2LjR6TTI4Ni45MzQgMzc0LjR2MzMuMDY3YzU5LjczMy0xMi44IDEwNy43MzQtNjAuOCAxMTkuNDY3LTEyMC41MzNoLTMzLjA2N2MtMTAuNjY4IDQyLjY2Ni00My43MzQgNzUuNzMyLTg2LjQgODcuNDY2ek0xMzcuNiAyODYuOTM0aC0zMy4wNjdjMTIuOCA1OS43MzMgNjAuOCAxMDcuNzM0IDEyMC41MzMgMTE5LjQ2N3YtMzMuMDY3Yy00Mi42NjYtMTAuNjY4LTc1LjczMi00My43MzQtODcuNDY2LTg2LjR6bS0zMi02MS44NjhoMzMuMDY3YzEwLjY2Ny00Mi42NjcgNDQuOC03NS43MzQgODcuNDY3LTg3LjQ2N3YtMzMuMDY2Yy02MC44MDEgMTIuODAxLTEwOC44IDYwLjgtMTIwLjUzNCAxMjAuNTMzeiIvPjxwYXRoIGQ9Ik01MTIgMjQxLjA2N0gyNzAuOTMzVjBoLTI5Ljg2NnYyNDEuMDY3SDB2MjkuODY2aDI0MS4wNjdWNTEyaDI5Ljg2NlYyNzAuOTMzSDUxMnoiLz48Y2lyY2xlIGN4PSIyNTYuMDA1IiBjeT0iMjU2LjAwNSIgcj0iNTQuNCIgc3R5bGU9ImZpbGw6I2NlZDRkYSIvPjwvc3ZnPg==);\n        width:20px;\n        height:20px;\n        background-size:100%;\n        position:absolute;\n        top:0;\n        left:0;\n    ";const o=document.createElement("span");return o.style.cssText="position:absolute; top:75%; left:85%;",n.append(o),e.append(n),t.append(e),t.style.cssText="position:relative; cursor:none;",n}(t.target))}function i(t){const e=this.target.getBoundingClientRect(),n=t.clientX,o=t.clientY,i=t.pageX,s=t.pageY,c=Math.max(0,Math.min(n-e.left,e.width)),a=Math.max(0,Math.min(o-e.top,e.height));var l;this.browserPosition=r(e,n,o),this.documentPosition=r(e,i,s),this.targetPosition=r(e,c,a),"function"==typeof(l=this).onUpdate&&l.onUpdate({id:l.id,type:l.type,target:l.target,browserPosition:l.browserPosition,documentPosition:l.documentPosition,targetPosition:l.targetPosition}),this.debug&&function(t,e){const n=t.getBoundingClientRect();t.style.transform=`translate(${e.x-.5*n.width}px, ${e.y-.5*n.height}px)`,t.querySelector("span").textContent=`\n    ${e.x}\n    ${e.y}\n    `}(this.cursor,this.targetPosition)}function s(){this.target.dispatchEvent(new MouseEvent("mousemove",{clientX:this.browserPosition.x,clientY:this.browserPosition.y}))}t.r(e);const r=(t,e,n)=>({x:e,y:n,xPercent:e/t.width,yPercent:n/t.height});function c(){const t=this.target.scrollHeight||document.scrollingElement.scrollHeight,e=this.target.clientHeight||window.innerHeight,n=t-e,o=this.target.scrollTop||window.scrollY;"function"==typeof this.onUpdate&&this.onUpdate({id:this.id,type:this.type,height:t,availableHeight:e,scrollableHeight:n,scrolledDistance:o,scrollable:n>0})}return window.Position=new class{constructor(){this.instances=[]}create(t){const e={id:n("position-"),target:document.body,type:"mousemove",debug:!1,...t};return e.target=function(t){let e="Target element not found! Please use correct DOM element!";return"string"==typeof t&&(t=document.querySelector(t),e="Target string is not valid! Please use correct CSS selector!"),t||(console.error(e),!1)}(e.target),e.target?("scroll"===e.type?e.handler=c.bind(e):o(e),e.target.addEventListener(e.type,e.handler),this.instances.push(e),e):null}destroy(t){const e=e=>e.id===t.id,n=this.instances.find(e);if(n){const o=this.instances.findIndex(e);return n.target.removeEventListener(t.type,t.handler),n.scrollHandler&&window.removeEventListener("scroll",n.scrollHandler),this.instances.splice(o,1),!0}return!1}},e})()));