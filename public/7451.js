"use strict";(self.webpackChunkthreejs_journey=self.webpackChunkthreejs_journey||[]).push([[7451],{7451:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var o=a(9477),s=a(9365),n=a(8243);const i=class{constructor(e){let{element:t}=e;this.element=t,this.init()}init(){o.epp.enabled=!1;const e=new n.ZP,t=document.querySelector("canvas#webgl"),a=new o.xsS,i=new o.dpR,d=i.load("/textures/door/color.jpg"),r=i.load("/textures/door/alpha.jpg"),p=i.load("/textures/door/ambientOcclusion.jpg"),h=i.load("/textures/door/height.jpg"),w=i.load("/textures/door/normal.jpg"),c=i.load("/textures/door/metalness.jpg"),l=i.load("/textures/door/roughness.jpg"),m=i.load("/textures/bricks/color.jpg"),g=i.load("/textures/bricks/ambientOcclusion.jpg"),u=i.load("/textures/bricks/normal.jpg"),M=i.load("/textures/bricks/roughness.jpg"),x=i.load("/textures/grass/color.jpg"),S=i.load("/textures/grass/ambientOcclusion.jpg"),j=i.load("/textures/grass/normal.jpg"),f=i.load("/textures/grass/roughness.jpg"),b={width:window.innerWidth,height:window.innerHeight},z=new o.ZAu;a.add(z);const y=new o.Kj0(new o.DvJ(4,2.5,4),new o.Wid({map:m,aoMap:g,normalMap:u,roughnessMap:M}));y.position.y=1.25,z.add(y);const k=new o.Kj0(new o.b_z(3.5,1,4),new o.Wid({color:"#b35f45"}));k.position.y=3,k.rotation.y=.25*Math.PI,z.add(k);const P=new o.Kj0(new o._12(2.2,2.2,100,100),new o.Wid({color:"red",map:d,transparent:!0,alphaMap:r,aoMap:p,displacementMap:h,displacementScale:.1,normalMap:w,metalnessMap:c,roughnessMap:l}));P.position.z=2.01,P.position.y=1,z.add(P);const v=new o.xo$(1,16,16),K=new o.Wid({color:"#89c854"}),W=new o.Kj0(v,K);W.scale.set(.5,.5,.5),W.position.set(.8,.2,2.2);const C=new o.Kj0(v,K);C.scale.set(.25,.25,.25),C.position.set(1.4,.1,2.1);const R=new o.Kj0(v,K);R.scale.set(.4,.4,.4),R.position.set(-.8,.1,2.2);const T=new o.Kj0(v,K);T.scale.set(.15,.15,.15),T.position.set(-1,.05,2.6),z.add(W,C,R,T);const _=new o.ZAu;a.add(_);const O=new o.DvJ(.6,.8,.2),Z=new o.Wid({color:"#b2b6b1"});for(let e=0;e<50;e++){const e=Math.random()*Math.PI*2,t=3+6*Math.random(),a=Math.cos(e)*t,s=Math.sin(e)*t,n=new o.Kj0(O,Z);n.position.set(a,.3,s),n.rotation.z=.4*(Math.random()-.5),n.rotation.y=.4*(Math.random()-.5),n.castShadow=!0,_.add(n)}x.repeat.set(8,8),S.repeat.set(8,8),j.repeat.set(8,8),f.repeat.set(8,8),x.wrapS=o.rpg,S.wrapS=o.rpg,j.wrapS=o.rpg,f.wrapS=o.rpg,x.wrapT=o.rpg,S.wrapT=o.rpg,j.wrapT=o.rpg,f.wrapT=o.rpg;const A=new o.Kj0(new o._12(20,20),new o.Wid({map:x,aoMap:S,normalMap:j,roughnessMap:f}));A.rotation.x=.5*-Math.PI,a.add(A);const D=new o.Mig("#b9d5ff",.12);e.add(D,"intensity").min(0).max(1).step(.001),a.add(D);const I=new o.Ox3("#b9d5ff",.12);I.position.set(4,5,-2),e.add(I,"intensity").min(0).max(1).step(.001),e.add(I.position,"x").min(-5).max(5).step(.001),e.add(I.position,"y").min(-5).max(5).step(.001),e.add(I.position,"z").min(-5).max(5).step(.001),a.add(I);const q=new o.cek("#ff7d46",1,7);q.position.set(0,2.2,2.7),z.add(q),a.fog=new o.ybr("#262837",1,15);const E=new o.cek("#f0f",2,3);a.add(E);const F=new o.cek("#0ff",2,3);a.add(F);const H=new o.cek("#ff0",2,3);a.add(H);const J=new o.cPb(75,b.width/b.height,.1,100);J.position.x=4,J.position.y=2,J.position.z=5,a.add(J);const U=new s.z(J,t);U.enableDamping=!0;const G=new o.CP7({canvas:t});G.setSize(b.width,b.height),G.setPixelRatio(Math.min(window.devicePixelRatio,2)),G.outputColorSpace=o.GUF,G.setClearColor("#262837"),G.shadowMap.enabled=!0,I.castShadow=!0,q.castShadow=!0,E.castShadow=!0,F.castShadow=!0,H.castShadow=!0,y.castShadow=!0,W.castShadow=!0,C.castShadow=!0,R.castShadow=!0,T.castShadow=!0,A.receiveShadow=!0,I.shadow.mapSize.width=256,I.shadow.mapSize.height=256,I.shadow.camera.far=15,q.shadow.mapSize.width=256,q.shadow.mapSize.height=256,q.shadow.camera.far=7,E.shadow.mapSize.width=256,E.shadow.mapSize.height=256,E.shadow.camera.far=7,F.shadow.mapSize.width=256,F.shadow.mapSize.height=256,F.shadow.camera.far=7,H.shadow.mapSize.width=256,H.shadow.mapSize.height=256,H.shadow.camera.far=7,G.shadowMap.type=o.ntZ;const L=new o.SUY,Y=()=>{const e=L.getElapsedTime(),t=.5*e;E.position.x=4*Math.cos(t),E.position.z=4*Math.sin(t),E.position.y=Math.sin(3*e);const o=.32*-e;F.position.x=5*Math.cos(o),F.position.z=5*Math.sin(o),F.position.y=Math.sin(4*e)+Math.sin(2.5*e);const s=.18*-e;H.position.x=Math.cos(s)*(7+Math.sin(.32*e)),H.position.z=Math.sin(s)*(7+Math.sin(.5*e)),H.position.y=Math.sin(4*e)+Math.sin(2.5*e),U.update(),G.render(a,J),window.requestAnimationFrame(Y)};Y(),window.addEventListener("resize",(()=>{b.width=window.innerWidth,b.height=window.innerHeight,J.aspect=b.width/b.height,J.updateProjectionMatrix(),G.setSize(b.width,b.height),G.setPixelRatio(Math.min(window.devicePixelRatio,2))}))}destroy(){console.log("destroyed",this)}}}}]);