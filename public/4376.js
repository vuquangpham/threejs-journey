"use strict";(self.webpackChunkthreejs_journey=self.webpackChunkthreejs_journey||[]).push([[4376],{4376:e=>{e.exports="attribute float aScale;\nattribute vec3 aRandomness;\n\nuniform float uSize;\nuniform float uTime;\n\nvarying vec3 vColor;\n\nvoid main() {\n  vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\n  // calculate the position\n  float angle = atan(modelPosition.x, modelPosition.z);\n  float distanceToCenter = length(modelPosition.xz);\n  float offset = (1. / distanceToCenter) * uTime * 0.2;\n  angle += offset;\n\n  modelPosition.x = cos(angle) * distanceToCenter;\n  modelPosition.z = sin(angle) * distanceToCenter;\n\n  modelPosition.xyz += aRandomness;\n\n  vec4 viewPosition = viewMatrix * modelPosition;\n  vec4 projectedPosition = projectionMatrix * viewPosition;\n\n  gl_Position = projectedPosition;\n\n  gl_PointSize = uSize * aScale;\n  gl_PointSize *= (1.0 / - viewPosition.z);\n\n  // color is created by default because of the vertexColor = true in ShaderMaterial\n  vColor = color;\n}"}}]);